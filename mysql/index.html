<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="assets/css/manualTrainee.css">
        <link rel="icon" type="image/png" href="assets/img/infojr-ico.svg">
        <title>Guias - MySQL</title>
    </head>
    <body>
        <section class="center full">
            <div class="image">
                <img src="assets/img/mysql.svg" alt="" />
                <h1>Modelando bancos de dados em MySQL</h1>
            </div>
        </section>
        <section class="mysql-blue">
            <div class="text">
                <h1>Calma aí... O que é banco de dados?</h1>
                <p>
                    Então né... Segundo o Dicionário Aurélio (2006), é um conjunto de <b>dados</b> organizado por categorias, de modo a <b>facilitar a pesquisa</b>, comparação e atualização das informações<b>; base de dados</b>.
                </p>
                <p>
                    Mas, podemos dizer também que Bancos de dados, ou bases de dados, são coleções de informações que se relacionam de forma a criar um sentido. Com registros sobre pessoas, lugares ou coisas.
                </p>
                <p>
                    Sabe aquela planilha da escola com o nome dos alunos e a nota de cada um segmentada por unidade ou por disciplina? Aquilo seria um banco de dados, ou parte dele, de acordo com a definição.
                </p>
            </div>
            <div class="image">
                <img class="reduces" src="assets/img/table.png" alt="" />
            </div>
        </section>
        <section>
            <div class="image">
                <img class="reduces" src="assets/img/sql.png" alt="" />
            </div>
            <div class="text-right">
                <h1>E quanto ao MySQL?</h1>
                <h4>
                    Meu filho...
                </h4>
                <p>
                    Bom, quais são as formas que você conhece de fazer bases de dados? Provavelmente você conhece o Excel e suas planilhas.
                </p>
                <p>
                    Digamos que o MySQL seja uma forma de criarmos e interagirmos com o nosso banco de dados.
                </p>
                <p>
                    Na real, o MySQL é um sistema de gerenciamento de banco de dados (SGBD), que utiliza a linguagem <a href="https://pt.wikipedia.org/wiki/SQL">SQL (Linguagem de Consulta Estruturada, do inglês Structured Query Language)</a> como interface.
                </p>
                <p>
                    E pra terminar de derrubar, essa é a ferramenta que vamos utilizar para tratar do armazenamento de dados dos nossos sites e sistemas web.
                </p>
            </div>
        </section>
        <section class="mysql-orange">
            <div class="text">
                <h1>
                    E é do pacote Office isso?
                </h1>
                <p>
                    JAMAIS! Never! これまで! Niekedy!
                </p>
                <p>
                    Aqui estamos falando de código. O MySQL é uma extensão de uma linguagem de consulta, ué, e está cheia de conceitos e detalhes por trás. Alguns podem até parecer óbvios, mas também merecem atenção.
                </p>
                <p>
                    Vamos começar apresentando os elementos básicos de uma base dados.
                </p>
            </div>
            <div class="image">
                <img class="reduces" src="assets/img/confused.svg" alt="" />
            </div>
        </section>
        <section>
                <h1>Tabelas</h1>
                <p>
                    Bom... bancos de dados são formados por tabelas (tables), que por sua vez, são formadas por <b>linhas (rows)</b> e <b>colunas (columns)</b>, igualzinho ao Excel..
                </p>
                <p>
                    Tabelas guardam e exibem dados em um formato estruturado. Uma tabela geralmente está associada a um grupo de informações (usuários, por exemplo) onde cada coluna guarda um tipo de informação (nome, email, telefone) e cada linha representa uma instância daquele grupo (um usuário em específico). A esse grupo de informações damos o nome de <b>ENTIDADE</b>
                </p>
                <h4>
                    <b>ENTIDADE? Tipo coisa de religião?</b>
                </h4>
                <p>
                    Não, jovem... Entidade aqui é qualquer coisa, concreta ou abstrata, <b>abstraída</b> do mundo real e modelada em forma de tabela para guardar informações no banco de dados.
                </p>
                <p>
                    Conseguiu imaginar? Óh, os 40 estudantes de uma sala de aula são diferentes entre si por inúmeros fatores, mas podemos abstraí-los em uma tabela a partir das características em comum, a depender do contexto. Quer ver? Espia: Todo estudante tem um número de matrícula, um nome, data de nascimento e um ano de entrada, por exemplo. Nesse caso, a nossa entidade se chamaria estudantes (students), esse seria o nome da tabela. Cada característica em comum seria uma coluna, e cada aluno seria uma linha com uma identificação única.
                </p>
            </div>
        </section>
        <section class="wini">
            <div class="text">
                <h1>Peraê, rapaz!</h1>
                <h2>Que identificação única é essa que tu falou aí?</h2>
                <p>
                    Bom, essa identificação única é a famosa e renomada <b>PRIMARY KEY</b>. A PK é um campo (coluna) que identifica unicamente cada registro (linha) da tabela, e que <b>não pode ser nulo</b>.
                </p>
                <p>
                    Na tabela abaixo, o campo id seria um excelente candidato a Primary Key, pois identifica unicamente e numericamente cada linha. Perceba que isso permite que tenhamos duas "pessoas" com o mesmo nome na nossa tabela, e mesmo assim saibamos quem é quem.
                </p>
                <table>
                    <thead>
                        <tr>
                            <td>id</td>
                            <td>name</td>
                            <td>department</td>
                            <td>role</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>JP Rodrigues</td>
                            <td>Marketing</td>
                            <td>Diretor</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>JP Rodrigues</td>
                            <td>Marketing</td>
                            <td>Trainee</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="image">
                <img src="assets/img/key.png" alt="" />
            </div>
        </section>
        <section>
            <h1>Mas isso não é tudo!</h1>
            <p>
                Uma das coisas mais importantes que vamos falar aqui é do relacionamento entre tabelas.
            </p>
            <p>
                <a href="https://www.youtube.com/watch?v=tKShRPNnmvI">É... isso mesmo que você OUviu!</a> Já sabemos que um banco de dados é composto por diversas tabelas. Sei lá: Clientes, Produtos, Pedidos, Detalhes do Pedido, etc. Beleza que as informações estarão separadas em cada uma das Tabelas, o lance é que na prática devem existir relacionamentos entre as tabelas.
            </p>
            <p>
                Se ligue: Um Pedido é feito por um Cliente e neste Pedido podem existir diversos itens, itens que são gravados na tabela Detalhes do Pedido. Além disso, cada Pedido possui um número único (Código do pedido), mas um mesmo Cliente pode fazer diversos pedidos e assim por diante. É dessa forma que as relações acontecem e, em se falando de banco de dados, podemos representá-las das seguintes maneiras:
            </p>
            <ul>
                <li><b>1 pra 1:</b> Vamos supor que tivéssemos um sistema no qual seria necessário uma tabela com todos os presidentes que já tivemos, e uma tabela onde guardaríamos todos os vice-presidentes. Relacionaríamos cada vice-presidente com um presidente. </li>
                <li><b>1 pra muitos (1 pra n):</b> Esta relação pode ser vista em nossa divisão de diretorias. Cada diretoria possui muitos membros, mas um membro não pode fazer parte de mais de uma diretoria. Neste caso, na tabela de membros, teríamos um campo onde guardaríamos a chave primária da diretoria a qual cada membro pertence.</li>
                <li><b>Muitos pra muitos (n pra n):</b> A daqui a gente vê na divisão das equipes de projeto. Cada projeto pode ter mais de um membro envolvido, e cada membro pode fazer parte de mais de um projeto. Neste caso, teríamos, além das tabelas de membros e projetos, uma terceira tabela que guardaria a chave primária do membro e a chave primária do projeto ao qual ele fez parte.</li>
            </ul>
            <p>
                Quando a chave primária de uma tabela A é informada em uma tabela B para estabelecer o relacionamento de dados, passa a se chamar chave estrangeira para a tabela A em B.
            </p>
        </section>
        <section class="green">
            <h1>E como que eu crio essas tabelas aí?</h1>
            <p>
                As tabelas e todas as outras coisas podem ser criadas por meio de código MySQL. Contudo, iremos utilizar uma ferramenta visual unificada para arquitetos de banco de dados e desenvolvedores, chamada Mysql Workbench. O que o Workbench vai fazer é permitir que você "desenhe" suas tabelas e relacionamentos com "clique e arraste", e depois transformará tudo em código.
            </p>
            <div class="code-block">
                <code>$sudo apt-get install mysql-workbench</code>
            </div>
            <p>
                Estando o Workbench instalado, abra-o e tecle <b>ctrl + N</b>.
            </p>
            <p>
                Abaixo segue um vídeo onde modelamos um banco de dados conforme sugerido pela explicação das relações 1 pra n e n pra n.
            </p>
            <video src="assets/video/db1.webm" controls poster="posterimage.jpg"></video>
            <p>
                Tabelas modeladas, <b>shift + ctrl + G</b> para gerar o seu código MySQL.
            </p>
            <p>
                Vamos a alguns detalhes não explicados anteriormente.
            </p>
            <ul>
                <li>PK = Primary Key = Chave Primária - Geralmente marcamos esta opção para as colunas 'id'.</li>
                <li>NN = NOT NULL = NÃO NULO - Esta opção deve ser marcadas para as colunas que tem preenchimento obrigatório.</li>
                <li>UQ = UNIQUE = ÚNICO - Se as entradas desta coluna não podem se repetir, marque esta opção.</li>
                <li>AI = AUTO INCREMENTAL - O valor da coluna que for marcada com AI irá ser incrementado automaticamente a cada nova linha inserida.</li>
            </ul>
        </section>
        <section>
            <div class="text">
                <h1>Tipos de dados</h1>
                <p>
                    O MySQL possui vários tipos de dados. Listamos algums bem importantes:
                </p>
                <ul>
                    <li>Inteiros
                        <table class="bg-white">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Storage</th>
                                <th>Minimum Value</th>
                                <th>Maximum Value</th>
                            </tr><tr>
                                <th>&nbsp;</th>
                                <th>(Bytes)</th>
                                <th>(Signed/Unsigned)</th>
                                <th>(Signed/Unsigned)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>INT</code></td>
                                <td>4</td>
                                <td><code>-2147483648</code></td>
                                <td><code>2147483647</code></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td><code>0</code></td>
                                <td><code>4294967295</code></td>
                            </tr>
                            <tr>
                                <td><code>BIGINT</code></td>
                                <td>8</td>
                                <td><code>-9223372036854775808</code></td>
                                <td><code>9223372036854775807</code></td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td><code>0</code></td>
                                <td><code>18446744073709551615</code></td>
                            </tr>
                        </tbody>
                    </table>
                    </li>
                    <br>
                    <li>Strings
                        <p><b>VARCHAR(5)</b> - O tamanho do texto pode ser qualquer valor entre 0 e 255 caracteres, inclusive.</p>
                        <p><b>TEXT</b> - Texto com tamanho máximo de 65535 (2^16 - 1) caracteres</p>
                    </li>
                    <li><b>DATE</b> - Uma data. A faixa suportada é entre '1000-01-01' e '9999-12-31'. MySQL mostra valores DATE no formato 'AAAA-MM-DD', mas permite que você atribua valores a campos DATE utilizando tanto strings quanto números. </li>
                </ul>
            </div>
        </section>
        <section class="blue center">
            <div class="text">
                <h1>
                    E aí, é isso aí!.
                </h1>
                <p>
                    Bom... Isso não é tudo sobre MySQL, não é tudo sobre Banco de Dados, e não é tudo sobre o Workbench. Procure tirar dúvidas com seu mentor, com outras pessoas na Info, com outros trainees, em livros, na internet, etc.
                </p>
                <p>
                    O mais importante deste guia é que você absorva os conceitos que foram apresentados.
                </p>
                <p>
                    Você pode ver a <a style="color:#000" href="https://dev.mysql.com/doc/refman/5.5/en/" target="_blank">documentação completa do MySQL aqui</a>.
                </p>
                <p>
                    A sequência desse guia é o guia de POO (1). Você já ouviu falar nisso?
                </p>
            </div>
            <div class="image">
                <img src="assets/img/queen.png" alt="" />
            </div>
        </section>
        <footer>
            <p>
                © InfoJr UFBA - 2016
            </p>
        </footer>
    </body>
</html>
